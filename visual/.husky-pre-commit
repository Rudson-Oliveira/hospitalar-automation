#!/bin/sh
# Pre-commit hook para validaÃ§Ã£o de cÃ³digo
# Este arquivo serve como referÃªncia para configuraÃ§Ã£o futura do Husky

echo "ğŸ” Executando validaÃ§Ãµes de pre-commit..."

# Navegar para o diretÃ³rio visual
cd visual || exit 1

# 1. Lint (ESLint)
echo "ğŸ¨ Executando ESLint..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ ESLint falhou! Corrija os erros antes de fazer commit."
  # Temporariamente permitindo continuar
  # exit 1
fi

# 2. Type Checking (TypeScript)
echo "ğŸ” Executando Type Checking..."
npx tsc --noEmit
if [ $? -ne 0 ]; then
  echo "âš ï¸ Type checking falhou! Verifique os erros de tipo."
  # Temporariamente permitindo continuar
  # exit 1
fi

# 3. Build Test
echo "ğŸ—ï¸ Testando build..."
npm run build
if [ $? -ne 0 ]; then
  echo "âŒ Build falhou! Corrija os erros antes de fazer commit."
  exit 1
fi

echo "âœ… Todas as validaÃ§Ãµes passaram!"
exit 0
